info:
  title: WS Documentation
  description: WS Documentation description
  version: '0.1'

server:
    url: ws://example.example:1337
    description: Stage server backend

actions:
  connect:
    description: Connect to socket
    actor:
      type: object
      properties:
        is_system: true
        description: Sent by system only
    response_to_group:
      event: new_user_connected
      message: string
      users:
        type: array
        items:
          type: object
          properties:
            user_id:
              type: integer
            nickname:
              type: string
    response_to_user:
      event: user_connected
      messages:
        type: array
        items:
          type: object
          properties:
            id:
              type: integer
            username:
              type: string
            text:
              type: string
            is_selected:
              type: string
            created_at:
              type: string
              format: datetime
      max_round_time:
        type: integer
      max_rounds_count:
        type: integer
      max_students_count:
        type: integer
      current_round:
        type: integer

  new_message:
    description: Send new message
    actor:
      type: object
      properties:
        is_system: false
        description: Can be sent by user
    data:
      type: object
      properties:
        text: string
    response_to_group:
      event: new_message_sent
      message:
        type: object
        properties:
          id:
            type: integer
          text:
            type: string
          user_id:
            type: string
